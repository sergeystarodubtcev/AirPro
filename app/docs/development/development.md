# Руководство разработчика Air Pro

## Структура проекта

```
app/
├── src/               # Исходный код
├── tests/            # Тесты
├── docs/             # Документация
├── resources/        # Ресурсы
├── config/           # Конфигурация
└── requirements.txt  # Зависимости
```

## Разработка

### Требования к окружению
- Python 3.11+
- Git
- PyCharm или VS Code (рекомендуется)
- Arduino IDE

### Настройка окружения разработки
1. Клонируйте репозиторий
2. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```
3. Установите зависимости:
```bash
pip install -r requirements.txt
```

### Стиль кода
- Следуйте PEP 8
- Используйте типизацию Python
- Документируйте функции и классы
- Пишите тесты для нового кода

## Архитектура

### Основные компоненты
1. **Главное окно** (`main_window.py`)
   - Основной интерфейс приложения
   - Управление данными и отображением

2. **Окно настроек** (`settings_window.py`)
   - Конфигурация приложения
   - Управление профилями

3. **Монитор качества воздуха** (`air_quality_monitor2.py`)
   - Обработка данных от Arduino
   - Управление графиками

4. **ThingSpeak интеграция**
   - `thingspeak_client.py` - базовый клиент
   - `thingspeak_integration.py` - интеграция с приложением

5. **Веб-сервер** (`web_server.py`)
   - Предоставление веб-интерфейса
   - API для внешних систем

### Потоки данных
1. Arduino → Приложение
2. Приложение → ThingSpeak
3. Приложение → Веб-интерфейс
4. Приложение → Excel

## Тестирование

### Запуск тестов
```bash
python -m pytest tests/
```

### Написание тестов
- Используйте pytest
- Следуйте AAA (Arrange-Act-Assert)
- Мокируйте внешние зависимости

## Сборка

### Создание исполняемого файла
```bash
python build_app.py
```

### Настройка PyInstaller
- Используйте `Air_Pro.spec`
- Настройте иконки и ресурсы
- Проверьте зависимости

## Отладка

### Логирование
- Используйте модуль `logging`
- Настройте уровни логирования
- Сохраняйте логи в файл

### Диагностика
- Проверяйте подключение к Arduino
- Мониторьте использование памяти
- Следите за производительностью

## Вклад в проект

### Процесс разработки
1. Создайте ветку для новой функции
2. Напишите тесты
3. Реализуйте функционал
4. Проведите код-ревью
5. Создайте pull request

### Документация
- Обновляйте README.md
- Документируйте API
- Обновляйте руководство пользователя 