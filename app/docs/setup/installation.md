# Установка и настройка Air Pro

## Подготовка к установке

### Требования к системе
- Windows 10 или выше
- Python 3.11+
- Arduino IDE (для прошивки Arduino)
- COM-порт для подключения Arduino

### Необходимое оборудование
- Arduino-устройство (Arduino Uno или совместимое)
- Датчики качества воздуха
- USB-кабель для подключения Arduino

## Установка приложения

### 1. Клонирование репозитория
```bash
git clone https://github.com/your-username/air-pro.git
cd air-pro/app
```

### 2. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 3. Настройка Arduino
1. Подключите Arduino к компьютеру через USB
2. Откройте Arduino IDE
3. Загрузите прошивку из директории `arduino/` на Arduino
4. Запишите номер COM-порта, к которому подключена Arduino

### 4. Первый запуск
```bash
python src/air_quality_monitor2.py
```

## Настройка ThingSpeak

1. Создайте аккаунт на [ThingSpeak](https://thingspeak.com)
2. Создайте новый канал
3. Запишите API ключи
4. В настройках приложения введите:
   - Channel ID
   - Write API Key
   - Read API Key

## Настройка веб-сервера

1. В настройках приложения укажите:
   - Порт для веб-сервера (по умолчанию 8080)
   - IP-адрес для доступа (по умолчанию localhost)

## Настройка API ключей

Для работы с ThingSpeak и другими сервисами необходимо настроить API ключи. Это важный шаг в процессе установки.

### Шаг 1: Подготовка конфигурационного файла

1. Найдите файл `app/config/api_keys.py` в репозитории
2. Скопируйте его в директорию `app/config/` вашего проекта
3. Откройте файл в текстовом редакторе

### Шаг 2: Получение API ключей ThingSpeak

1. Перейдите на [ThingSpeak](https://thingspeak.com)
2. Создайте аккаунт или войдите в существующий
3. Создайте новый канал:
   - Нажмите "New Channel"
   - Заполните название и описание
   - Настройте поля для данных (field1-field8)
   - Сохраните канал

4. В настройках канала найдите:
   - Channel ID (ID канала)
   - Write API Key (ключ для записи)
   - Read API Key (ключ для чтения)

### Шаг 3: Настройка конфигурационного файла

1. Откройте `app/config/api_keys.py`
2. Замените значения на ваши реальные ключи:
   ```python
   THINGSPEAK_CHANNEL_ID = "YOUR_CHANNEL_ID"        # Замените на ваш Channel ID
   THINGSPEAK_WRITE_API_KEY = "YOUR_WRITE_API_KEY"  # Замените на ваш Write API Key
   THINGSPEAK_READ_API_KEY = "YOUR_READ_API_KEY"    # Замените на ваш Read API Key
   ```

### Шаг 4: Проверка настроек

1. Запустите приложение
2. Проверьте подключение к ThingSpeak в разделе настроек
3. Убедитесь, что данные успешно отправляются на сервер

### Важные замечания по безопасности

- Никогда не коммитьте файл с реальными API ключами в репозиторий
- Храните ключи в безопасном месте
- Регулярно меняйте ключи для безопасности
- Используйте разные ключи для разработки и продакшена

### Решение проблем

Если возникли проблемы с подключением к ThingSpeak:

1. Проверьте правильность введенных ключей
2. Убедитесь, что канал активен
3. Проверьте подключение к интернету
4. Проверьте права доступа к файлу конфигурации

## Решение проблем

### Проблемы с подключением к Arduino
1. Проверьте правильность выбранного COM-порта
2. Убедитесь, что Arduino подключена и питается
3. Проверьте установку драйверов

### Проблемы с веб-сервером
1. Проверьте, не занят ли указанный порт
2. Убедитесь, что файрвол не блокирует соединение
3. Проверьте настройки сети 